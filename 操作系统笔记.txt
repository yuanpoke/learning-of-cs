操作系统 operating system（os）



10/21

什么是操作系统？
  对上，操作系统是一个控制软件，管理应用程序
  对下，进行硬件资源管理

  把CPU抽象成进程，磁盘抽象成文件，内存抽象成地址空间，
  从而供用户更好更便捷地使用
  
  层次结构：硬件之上，应用软件之下
  操作系统是系统软件

  有两种接口，shell和kernel。shell包括gui和命令行程序
    Linux, Windows, Android的界面属于外壳shell，
    内核kernel是本课学习重点

计算机系统的层次结构：
     硬件
     操作系统
应用程序 用户（直接接触操作系统）
     用户

1.系统资源的管理者：处理机管理，存储器管理，文件管理，
                    设备管理
2.用户和计算机硬件之间的接口（用户接口）：
    命令接口：允许用户直接使用
      联机命令接口（交互式命令接口）：用户说一句，系统做一句
      脱机命令接口（批处理命令接口）：用户说一堆，系统做一堆
    程序接口：允许用户通过程序间接使用
      由一组系统调用组成，程序接口=系统调用=广义指令，如在程
      序中调用dll
    GUI：图形用户界面
3.对硬件资源的扩展：覆盖了软件的机器称为扩充机器，又称为虚拟机。

现在很多CPU都是多核的

操作系统的四大特征：
  并发和共享是最基本的特征，互为存在条件的。
  如果没有并发和共享就谈不上虚拟和异步。
  1.并发
      并发和并行：并发是一段时间多个程序，并行是同一
                  时刻多个程序。      
  2.共享：资源可供内存中多个并发执行的进程共同使用
       互斥共享：一个时间段只能一个进程访问资源
       同时共享：一个时间段可以有多个进程访问资源
  3.虚拟
      一台物理机器虚拟成多台虚拟机器
      空分复用技术：如虚拟存储器技术
      时分复用技术：如虚拟处理器
  4.异步
      走走停停，不知道向前推进的速度。
      但只要运行环境相同，os要保证程序的运行结果（
      如1+1=2这个结果是不能变的）相同。
      
操作系统实例：
  1.UNIX BSD
      UNIX -> BSD
  2.LINUX(在其学生时代写的)
      -> redhat, ubuntu
  3.Windows
  4.ios  macos
  5.Android

  计算机桌面Windows大多，服务器、终端Linux大多




汇编语言是基于具体的硬件的
CS：段寄存器

操作系统结构：
  1.简单操作系统：MS-DOS
      不分模块的单体内核
  2.微内核 只把必要的放在内核中
      但是需要多次进行移除和移进，效率降低
  
操作系统的启动：
  DISK：存放操作系统，bootloader
  BIOS: 基本I/O处理系统，上电后检测外设，加载软件，把
        bootloader加载到内存中
  bootloader：加载os
  
  POST（加电自检），寻找显卡和执行BIOS

系统调用：
  来源于应用程序，应用程序主动向操作系统发出服务请求。
异常：
  来源于不良的应用程序，非法指令或者其他坏的处理状态。
中断：
  来源于外设，来自不同的硬件设备的计时器和网络的中断。

1.源头不同：
   中断：外设
   异常：应用程序
   系统调用：应用程序

2.处理时间：
   中断：异步，不知道什么时候会产生
   异常：同步，执行到某处一定会产生
   系统调用：同步或异步（返回可能异步）

3.响应
    中断：持续，对用户应用程序是透明的
    异常：杀死或者重新执行意想不到的应用程序指令
    系统调用：等待服务完成和持续


















